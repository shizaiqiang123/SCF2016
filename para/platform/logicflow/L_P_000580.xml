<?xml version="1.0" encoding="UTF-8"?>
<logicflow>
    <desc>池融资-贷项清单</desc>
    <id>L_P_000580</id>
    <name>池融资-贷项清单</name>
    <nodeSize>2</nodeSize>
    <transforSize>0</transforSize>
     <lnode>
        <desc>池融资-贷项清单明细</desc>
        <type>E</type>
        <mainLogic>false</mainLogic>
        <id>N00000001</id>
        <component>trxEditDoRecord</component>
        <name>池融资-贷项清单明细</name>
        <doname>invCbk</doname>
        <fpParam>sysRefNo</fpParam>
		<condition>sysLockBy =?</condition>
		<params>sysLockBy</params>
        <cascadeevent>Y</cascadeevent>
        <tablename>TRX.INVC_CBK_M</tablename>
        <nodejs>L_S_000001.js</nodejs>
    </lnode>
    <lnode>
        <desc>池融资-贷项清单_额度变动</desc>
        <type>E</type>
        <mainLogic>false</mainLogic>
        <id>N00000002</id>
        <component>trxEditDoRecord</component>
        <name>池融资-贷项清单_额度变动</name>
        <doname>cntChange</doname>
        <fpParam>sysRefNo</fpParam>
		<condition>refNo =?</condition>
		<params>refNo</params>
        <cascadeevent>N</cascadeevent>
        <tablename>TRX.CNTRCT_CHANGE</tablename>
        <nodejs>L_S_000001.js</nodejs>
    </lnode>
    <transfornode>
		<id>N00000003</id>
		<name>池融资-贷项清单_客户信息</name>
		<desc>池融资-贷项清单_客户信息</desc>
		<module></module>
		<event></event>
		<component>trxTransForToRecord</component>
		<tablename>TRX.CUST_M</tablename>
		<fields></fields>
		<doname></doname>
		<fpParam>sysRefNo</fpParam>
		<type>E</type>
		<cascadeevent>Y</cascadeevent>
		<pending>
			<fields>sysLockFlag,sysLockBy</fields>
			<values>T,$sysLockBy$</values>
		</pending>
		<release>
			<fields>lmtCcy,lmtBal,lmtAmt,lmtRecover,lmtAllocate</fields>
			<values>$custLmtCcy$,$custLmtBal$,$custLmtAmt$,$custLmtRecover$,$custLmtAllocate$</values>
		</release>
		<delepending>
			<fields>sysLockFlag</fields>
			<values>F</values>
		</delepending>
		<nodejs>L_P_000064.js</nodejs> 
	</transfornode>
	
	<transfornode>
		<id>N00000004</id>
		<name>池融资-贷项清单_应收账款列表</name>
		<desc>池融资-贷项清单_应收账款列表</desc>
		<module></module>
		<event></event>
		<component>trxTransForToRecord</component>
		<tablename>TRX.INVC_M</tablename>
		<fields></fields>
		<doname>invCbk</doname>
		<fpParam>sysRefNo</fpParam>
		<type>E</type>
		<cascadeevent>Y</cascadeevent>
		<pending>
			<fields>sysLockFlag,sysLockBy</fields>
			<values>T,$sysLockBy$</values>
		</pending>
		<release>
			<fields>chgBcAmt,invBal,invLoanAval,invSts,linkInvRef,crnAmt</fields>
			<values>$chgBcAmt$,$invBal$,$invLoanAval$,4,$linkInvRef$,$crnAmt$</values>
		</release>
		<delepending>
			<fields>sysLockFlag</fields>
			<values>F</values>
		</delepending>
		<nodejs>L_P_000067.js</nodejs> 
	</transfornode>
	<transfornode>
		<id>N00000005</id>
		<name>池融资-贷项清单_额度关联信息</name>
		<desc>池融资-贷项清单_额度关联信息</desc>
		<module></module>
		<event></event>
		<component>trxTransForToRecord</component>
		<tablename>TRX.CNTRCT_SBR_M</tablename>
		<type>E</type>
		<fpParam>sysRefNo</fpParam>
		<cascadeevent>Y</cascadeevent>
		<pending>
			<fields>sysLockFlag,sysLockBy</fields>
			<values>T,$sysLockBy$</values>
		</pending>
		<release>
			<fields>trxId,lmtCcy,buyerLmtBat,buyerLmtAmt,lmtRecover,lmtAllocate</fields>
			<values>$trxId$,$cntrctSbrLmtCcy$,$cntrctSbrLmtBal$,$cntrctSbrLmtAmt$,$cntrctSbrLmtRecover$,$cntrctSbrLmtAllocate$</values>
		</release>
		<delepending>
			<fields>sysLockFlag</fields>
			<values>F</values>
		</delepending>
		<nodejs>L_P_000082.js</nodejs> 
	</transfornode> 
	
	<transfornode>
		<id>N00000006</id>
		<name>更新协议主表</name>
		<desc>归还协议额度</desc>
		<module>TRX</module>
		<event>TestEvent</event>
		<component>trxTransForToRecord</component>
		<tablename>TRX.CNTRCT_M</tablename>
		<fpParam>sysRefNo</fpParam>
		<type>E</type>
		<cascadeevent>Y</cascadeevent>
		<pending>
			<fields>sysLockFlag,sysLockBy</fields>
			<values>T,$sysLockBy$</values>
		</pending>
		<release>
			<fields>arBal,openLoanAmt</fields>
			<values>$cntrctArBal$,$cntrctOpenLoanAmt$</values>
		</release>
		<delepending>
			<fields>sysLockFlag</fields>
			<values>F</values>
		</delepending>
		<nodejs>L_P_000056N00000006.js</nodejs>
	</transfornode>
	<transfornode>
		<id>N00000007</id>
		<name>更新买方额度表</name>
		<desc>更新买方额度表</desc>
		<module>TEST</module>
		<event>TestEvent</event>
		<component>trxTransForToRecord</component>
		<tablename>TRX.LMT_M</tablename>
		<fields></fields>
		<doname>buyerLmt</doname>
		<type>E</type>
		<cascadeevent>Y</cascadeevent>
		<pending>
			<fields>sysLockFlag,sysLockBy</fields>
			<values>T,$sysLockBy$</values>
		</pending>
		<release>
			<fields>lmtBal,lmtAllocate,lmtRecover</fields>
			<values>$lmtBal$,$lmtAllocate$,$lmtRecover$</values>
		</release>
		<delepending>
			<fields>sysLockFlag</fields>
			<values>F</values>
		</delepending>
		<nodejs>L_S_000001.js</nodejs> 
	</transfornode>
</logicflow>
