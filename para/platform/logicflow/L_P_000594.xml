<?xml version="1.0" encoding="UTF-8"?>
<logicflow>
	<id>L_P_000594</id>
	<name>融资申请-买方还款</name>
	<desc>融资申请-买方还款</desc>
	<module>TEST</module>
	<lnode>
		<id>N00000001</id>
		<name>TEST 00001</name>
		<desc>DESC TEST1</desc>
		<module>TEST</module>
		<event>TestEvent</event>
		<component>trxEditDoRecord</component>
		<tablename>TRX.INVC_PMT_M</tablename>
		<doname>invc</doname>
		<condition>invPmtRef=?</condition>
		<params>invPmtRef</params>
		<type>E</type>
		<cascadeevent>Y</cascadeevent>
		<nodejs>L_S_000001.js</nodejs>
	</lnode> 
	<transfornode>
		<id>N00000002</id>
		<name>TEST 00002</name>
		<desc>DESC TEST2</desc>
		<module>TEST</module>
		<event>TestEvent</event>
		<component>trxTransForToRecord</component>
		<tablename>TRX.INVC_M</tablename>
		<doname>invc</doname>
		<type>E</type>
		<cascadeevent>Y</cascadeevent>
		<pending>
			<fields>sysLockFlag,sysLockBy</fields>
			<values>T,$sysLockBy$</values>
		</pending>
		<release>
			<fields>invBal,lastPayDt,struLoanAmt,invLoanAval,invLoanBal,invSts</fields>
			<values>$invBal$,$lastPayDt$,$struLoanAmt$,$invLoanAval$,$invLoanBal$,5</values>
		</release>
		<delepending>
			<fields>sysLockFlag</fields>
			<values>F</values>
		</delepending>
		<nodejs>L_P_000144.js</nodejs>
	</transfornode>
	<transfornode>
		<id>N00000003</id>
		<name>更新融资表信息</name>
		<desc>更新融资表信息</desc>
		<module>TEST</module>
		<event>TestEvent</event>
		<component>trxTransForToRecord</component>
		<tablename>TRX.LOAN_M</tablename>
		<doname>loan</doname>
		<type>E</type>
		<cascadeevent>Y</cascadeevent>
		<pending>
			<fields>sysLockFlag,sysLockBy</fields>
			<values>T,$sysLockBy$</values>
		</pending>
		<release>
			<fields>ttlLoanBal</fields>
			<values>$ttlLoanBal$</values>
		</release>
		<delepending>
			<fields>sysLockFlag</fields>
			<values>F</values>
		</delepending>
		<!-- <nodejs>L_P_000142.js</nodejs> -->
		<nodejs>L_S_000001.js</nodejs>
	</transfornode>
	<transfornode>
		<id>N00000004</id>
		<name>更新发票融资表信息</name>
		<desc>更新发票融资表信息</desc>
		<module>TEST</module>
		<event>TestEvent</event>
		<component>trxTransForToRecord</component>
		<tablename>TRX.INVC_LOAN_M</tablename>
		<doname>invc</doname>
		<type>E</type>
		<cascadeevent>Y</cascadeevent>
		<pending>
			<fields>sysLockFlag,sysLockBy</fields>
			<values>T,$sysLockBy$</values>
		</pending>
		<release>
			<fields>invLoanBal,invBal,loanAmt</fields>
			<values>$invLoanBal$,$invBal$,$invLoanBal$</values>
		</release>
		<delepending>
			<fields>sysLockFlag</fields>
			<values>F</values>
		</delepending>
		<nodejs>L_P_000143.js</nodejs>
	</transfornode>
	 <!-- <transfornode>
		<id>N00000003</id>
		<name>买方还款更新协议额度</name>
		<desc>买方还款更新协议额度</desc>
		<module>TEST</module>
		<event>TestEvent</event>
		<component>trxTransForToRecord</component>
		<tablename>TRX.CNTRCT_M</tablename>
		<fields></fields>
		<doname></doname>
		<type>E</type>
		<cascadeevent>Y</cascadeevent>
		<pending>
			<fields>sysLockFlag</fields>
			<values>T</values>
		</pending>
		<release>
			<fields>arBal,arAvalLoan</fields>
			<values>$cntrctLmtBal$,$cntrctLmtCcy$,$cntrctLmtAmt$,$cntrctLmtRecover$,$cntrctLmtAllocate$</values>
		</release>
		<nodejs>L_P_000020.js</nodejs>
	</transfornode> -->
	<lnode>
		<id>N00000005</id>
		<name>插入INT利息表</name>
		<desc>插入INT利息表</desc>
		<module>TEST</module>
		<event>TestEvent</event>
		<component>trxEditDoRecord</component>
		<tablename>TRX.INT_M</tablename>
		<doname>int</doname>
		<fpParam>sysRefNo</fpParam>
		<condition>theirRef = ?</condition>
		<params>theirRef</params>
		<type>E</type>
		<cascadeevent>Y</cascadeevent>
		<nodejs>L_S_000001.js</nodejs>
	</lnode>
	<transfornode>
		<id>N00000006</id>
		<name>更新发票融资表信息</name>
		<desc>更新发票融资表信息</desc>
		<module>TEST</module>
		<event>TestEvent</event>
		<component>trxTransForToRecord</component>
		<tablename>TRX.LMT_M</tablename>
		<doname>lmt</doname>
		<type>E</type>
		<cascadeevent>Y</cascadeevent>
		<pending>
			<fields>sysLockFlag,sysLockBy</fields>
			<values>T,$sysLockBy$</values>
		</pending>
		<release>
			<fields>lmtBal,theirRef</fields>
			<values>$lmtBal$,$theirRef$</values>
		</release>
		<delepending>
			<fields>sysLockFlag</fields>
			<values>F</values>
		</delepending>
		<nodejs>L_S_000001.js</nodejs>
	</transfornode>
</logicflow>
